/**
 * Country Flags Utility
 * Maps DXCC entity names to emoji flags
 * Based on ARRL DXCC List
 */

export const getFlagForEntity = (entityName) => {
  if (!entityName) return null;

  const flagMap = {
    // North America
    'United States': 'ðŸ‡ºðŸ‡¸',
    Canada: 'ðŸ‡¨ðŸ‡¦',
    Mexico: 'ðŸ‡²ðŸ‡½',
    Alaska: 'ðŸ‡ºðŸ‡¸',
    Hawaii: 'ðŸ‡ºðŸ‡¸',
    'Puerto Rico': 'ðŸ‡µðŸ‡·',
    'US Virgin Is.': 'ðŸ‡»ðŸ‡®',
    Bermuda: 'ðŸ‡§ðŸ‡²',
    Bahamas: 'ðŸ‡§ðŸ‡¸',
    Jamaica: 'ðŸ‡¯ðŸ‡²',
    Barbados: 'ðŸ‡§ðŸ‡§',
    'Trinidad & Tobago': 'ðŸ‡¹ðŸ‡¹',
    Belize: 'ðŸ‡§ðŸ‡¿',
    Guatemala: 'ðŸ‡¬ðŸ‡¹',
    'El Salvador': 'ðŸ‡¸ðŸ‡»',
    Honduras: 'ðŸ‡­ðŸ‡³',
    Nicaragua: 'ðŸ‡³ðŸ‡®',
    'Costa Rica': 'ðŸ‡¨ðŸ‡·',
    Panama: 'ðŸ‡µðŸ‡¦',
    Cuba: 'ðŸ‡¨ðŸ‡º',
    Haiti: 'ðŸ‡­ðŸ‡¹',
    'Dominican Republic': 'ðŸ‡©ðŸ‡´',
    'St. Lucia': 'ðŸ‡±ðŸ‡¨',
    Dominica: 'ðŸ‡©ðŸ‡²',
    'Antigua & Barbuda': 'ðŸ‡¦ðŸ‡¬',
    Grenada: 'ðŸ‡¬ðŸ‡©',
    'St. Vincent': 'ðŸ‡»ðŸ‡¨',
    'St. Kitts & Nevis': 'ðŸ‡°ðŸ‡³',
    'Cayman Is.': 'ðŸ‡°ðŸ‡¾',
    'Turks & Caicos Is.': 'ðŸ‡¹ðŸ‡¨',
    Aruba: 'ðŸ‡¦ðŸ‡¼',
    Curacao: 'ðŸ‡¨ðŸ‡¼',
    'Bonaire, Curacao, Neth. Antilles': 'ðŸ‡§ðŸ‡¶', // often just Bonaire in modern logs
    Bonaire: 'ðŸ‡§ðŸ‡¶',
    'Sint Maarten': 'ðŸ‡¸ðŸ‡½',
    'St. Martin': 'ðŸ‡²ðŸ‡«',
    Guadeloupe: 'ðŸ‡¬ðŸ‡µ',
    Martinique: 'ðŸ‡²ðŸ‡¶',
    'St. Barthelemy': 'ðŸ‡§ðŸ‡±',
    'St. Pierre & Miquelon': 'ðŸ‡µðŸ‡²',
    Greenland: 'ðŸ‡¬ðŸ‡±',
    'Clipperton Is.': 'ðŸ‡¨ðŸ‡µ',
    Revillagigedo: 'ðŸ‡²ðŸ‡½', // Part of Mexico

    // South America
    Brazil: 'ðŸ‡§ðŸ‡·',
    Argentina: 'ðŸ‡¦ðŸ‡·',
    Chile: 'ðŸ‡¨ðŸ‡±',
    Uruguay: 'ðŸ‡ºðŸ‡¾',
    Paraguay: 'ðŸ‡µðŸ‡¾',
    Peru: 'ðŸ‡µðŸ‡ª',
    Colombia: 'ðŸ‡¨ðŸ‡´',
    Venezuela: 'ðŸ‡»ðŸ‡ª',
    Ecuador: 'ðŸ‡ªðŸ‡¨',
    Bolivia: 'ðŸ‡§ðŸ‡´',
    Guyana: 'ðŸ‡¬ðŸ‡¾',
    Suriname: 'ðŸ‡¸ðŸ‡·',
    'French Guiana': 'ðŸ‡¬ðŸ‡«',
    'Falkland Is.': 'ðŸ‡«ðŸ‡°',
    'South Georgia': 'ðŸ‡¬ðŸ‡¸',
    'South Shetland Is.': 'ðŸ‡¦ðŸ‡¶', // Antarctica treaty, but often assoc with claiming nations. Using generic Antarctica flag usually better or specific claim.
    'South Orkney Is.': 'ðŸ‡¦ðŸ‡¶',
    'South Sandwich Is.': 'ðŸ‡¬ðŸ‡¸',
    'Peter I Is.': 'ðŸ‡¦ðŸ‡¶',
    'Bouvet Is.': 'ðŸ‡§ðŸ‡»',
    'Easter Is.': 'ðŸ‡¨ðŸ‡±',
    'San Felix & San Ambrosio': 'ðŸ‡¨ðŸ‡±',
    'Juan Fernandez Is.': 'ðŸ‡¨ðŸ‡±',
    'Galapagos Is.': 'ðŸ‡ªðŸ‡¨',
    'Fernando de Noronha': 'ðŸ‡§ðŸ‡·',
    'St. Peter & St. Paul Rocks': 'ðŸ‡§ðŸ‡·',
    'Trindade & Martim Vaz Is.': 'ðŸ‡§ðŸ‡·',

    // Europe
    'United Kingdom': 'ðŸ‡¬ðŸ‡§',
    England: 'ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿',
    Scotland: 'ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿',
    Wales: 'ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿',
    'Northern Ireland': 'ðŸ‡¬ðŸ‡§',
    Ireland: 'ðŸ‡®ðŸ‡ª',
    Guernsey: 'ðŸ‡¬ðŸ‡¬',
    Jersey: 'ðŸ‡¯ðŸ‡ª',
    'Isle of Man': 'ðŸ‡®ðŸ‡²',
    France: 'ðŸ‡«ðŸ‡·',
    Germany: 'ðŸ‡©ðŸ‡ª',
    Italy: 'ðŸ‡®ðŸ‡¹',
    Spain: 'ðŸ‡ªðŸ‡¸',
    Portugal: 'ðŸ‡µðŸ‡¹',
    Netherlands: 'ðŸ‡³ðŸ‡±',
    Belgium: 'ðŸ‡§ðŸ‡ª',
    Luxembourg: 'ðŸ‡±ðŸ‡º',
    Switzerland: 'ðŸ‡¨ðŸ‡­',
    Liechtenstein: 'ðŸ‡±ðŸ‡®',
    Austria: 'ðŸ‡¦ðŸ‡¹',
    Sweden: 'ðŸ‡¸ðŸ‡ª',
    Norway: 'ðŸ‡³ðŸ‡´',
    Denmark: 'ðŸ‡©ðŸ‡°',
    Finland: 'ðŸ‡«ðŸ‡®',
    Iceland: 'ðŸ‡®ðŸ‡¸',
    Poland: 'ðŸ‡µðŸ‡±',
    'Czech Republic': 'ðŸ‡¨ðŸ‡¿',
    Slovakia: 'ðŸ‡¸ðŸ‡°',
    Hungary: 'ðŸ‡­ðŸ‡º',
    Romania: 'ðŸ‡·ðŸ‡´',
    Bulgaria: 'ðŸ‡§ðŸ‡¬',
    Greece: 'ðŸ‡¬ðŸ‡·',
    Cyprus: 'ðŸ‡¨ðŸ‡¾',
    Malta: 'ðŸ‡²ðŸ‡¹',
    Russia: 'ðŸ‡·ðŸ‡º',
    'European Russia': 'ðŸ‡·ðŸ‡º',
    Kaliningrad: 'ðŸ‡·ðŸ‡º',
    Ukraine: 'ðŸ‡ºðŸ‡¦',
    Belarus: 'ðŸ‡§ðŸ‡¾',
    Estonia: 'ðŸ‡ªðŸ‡ª',
    Latvia: 'ðŸ‡±ðŸ‡»',
    Lithuania: 'ðŸ‡±ðŸ‡¹',
    Moldova: 'ðŸ‡²ðŸ‡©',
    'Vatican City': 'ðŸ‡»ðŸ‡¦',
    Monaco: 'ðŸ‡²ðŸ‡¨',
    'San Marino': 'ðŸ‡¸ðŸ‡²',
    Andorra: 'ðŸ‡¦ðŸ‡©',
    Gibraltar: 'ðŸ‡¬ðŸ‡®',
    'Balearic Is.': 'ðŸ‡ªðŸ‡¸',
    'Canary Is.': 'ðŸ‡®ðŸ‡¨', // Or ES-CN
    'Ceuta & Melilla': 'ðŸ‡ªðŸ‡¸',
    Azores: 'ðŸ‡µðŸ‡¹',
    'Madeira Is.': 'ðŸ‡µðŸ‡¹',
    'Faroe Is.': 'ðŸ‡«ðŸ‡´',
    'Aland Is.': 'ðŸ‡¦ðŸ‡½',
    Svalbard: 'ðŸ‡¸ðŸ‡¯',
    'Jan Mayen': 'ðŸ‡¸ðŸ‡¯', // Or NO
    Albania: 'ðŸ‡¦ðŸ‡±',
    'Bosnia-Herzegovina': 'ðŸ‡§ðŸ‡¦',
    Croatia: 'ðŸ‡­ðŸ‡·',
    Macedonia: 'ðŸ‡²ðŸ‡°',
    'North Macedonia': 'ðŸ‡²ðŸ‡°',
    Montenegro: 'ðŸ‡²ðŸ‡ª',
    Serbia: 'ðŸ‡·ðŸ‡¸',
    Slovenia: 'ðŸ‡¸ðŸ‡®',
    Turkey: 'ðŸ‡¹ðŸ‡·',
    Corsica: 'ðŸ‡«ðŸ‡·',
    Sardinia: 'ðŸ‡®ðŸ‡¹',
    Sicily: 'ðŸ‡®ðŸ‡¹',
    Dodecanese: 'ðŸ‡¬ðŸ‡·',
    Crete: 'ðŸ‡¬ðŸ‡·',
    'Mount Athos': 'ðŸ‡¬ðŸ‡·',
    'Sovereign Military Order of Malta': 'ðŸ‡²ðŸ‡¹', // Often treated specially, but using Malta flag or standard flag

    // Asia
    Japan: 'ðŸ‡¯ðŸ‡µ',
    'South Korea': 'ðŸ‡°ðŸ‡·',
    'North Korea': 'ðŸ‡°ðŸ‡µ',
    China: 'ðŸ‡¨ðŸ‡³',
    Taiwan: 'ðŸ‡¹ðŸ‡¼',
    'Hong Kong': 'ðŸ‡­ðŸ‡°',
    Macau: 'ðŸ‡²ðŸ‡´',
    Mongolia: 'ðŸ‡²ðŸ‡³',
    India: 'ðŸ‡®ðŸ‡³',
    Thailand: 'ðŸ‡¹ðŸ‡­',
    Vietnam: 'ðŸ‡»ðŸ‡³',
    Laos: 'ðŸ‡±ðŸ‡¦',
    Cambodia: 'ðŸ‡°ðŸ‡­',
    Myanmar: 'ðŸ‡²ðŸ‡²',
    Malaysia: 'ðŸ‡²ðŸ‡¾',
    'West Malaysia': 'ðŸ‡²ðŸ‡¾',
    'East Malaysia': 'ðŸ‡²ðŸ‡¾',
    Singapore: 'ðŸ‡¸ðŸ‡¬',
    Philippines: 'ðŸ‡µðŸ‡­',
    Indonesia: 'ðŸ‡®ðŸ‡©',
    'Brunei Darussalam': 'ðŸ‡§ðŸ‡³',
    'Timor-Leste': 'ðŸ‡¹ðŸ‡±',
    Pakistan: 'ðŸ‡µðŸ‡°',
    Bangladesh: 'ðŸ‡§ðŸ‡©',
    'Sri Lanka': 'ðŸ‡±ðŸ‡°',
    Maldives: 'ðŸ‡²ðŸ‡»',
    Nepal: 'ðŸ‡³ðŸ‡µ',
    Bhutan: 'ðŸ‡§ðŸ‡¹',
    Afghanistan: 'ðŸ‡¦ðŸ‡«',
    Kazakhstan: 'ðŸ‡°ðŸ‡¿',
    Kyrgyzstan: 'ðŸ‡°ðŸ‡¬',
    Tajikistan: 'ðŸ‡¹ðŸ‡¯',
    Turkmenistan: 'ðŸ‡¹ðŸ‡²',
    Uzbekistan: 'ðŸ‡ºðŸ‡¿',
    Israel: 'ðŸ‡®ðŸ‡±',
    Jordan: 'ðŸ‡¯ðŸ‡´',
    Lebanon: 'ðŸ‡±ðŸ‡§',
    Syria: 'ðŸ‡¸ðŸ‡¾',
    Iraq: 'ðŸ‡®ðŸ‡¶',
    'Saudi Arabia': 'ðŸ‡¸ðŸ‡¦',
    Yemen: 'ðŸ‡¾ðŸ‡ª',
    Oman: 'ðŸ‡´ðŸ‡²',
    UAE: 'ðŸ‡¦ðŸ‡ª',
    'United Arab Emirates': 'ðŸ‡¦ðŸ‡ª',
    Qatar: 'ðŸ‡¶ðŸ‡¦',
    Bahrain: 'ðŸ‡§ðŸ‡­',
    Kuwait: 'ðŸ‡°ðŸ‡¼',
    Iran: 'ðŸ‡®ðŸ‡·',
    Armenia: 'ðŸ‡¦ðŸ‡²',
    Azerbaijan: 'ðŸ‡¦ðŸ‡¿',
    Georgia: 'ðŸ‡¬ðŸ‡ª',

    // Africa
    Egypt: 'ðŸ‡ªðŸ‡¬',
    Libya: 'ðŸ‡±ðŸ‡¾',
    Tunisia: 'ðŸ‡¹ðŸ‡³',
    Algeria: 'ðŸ‡©ðŸ‡¿',
    Morocco: 'ðŸ‡²ðŸ‡¦',
    'Western Sahara': 'ðŸ‡ªðŸ‡­',
    Mauritania: 'ðŸ‡²ðŸ‡·',
    Senegal: 'ðŸ‡¸ðŸ‡³',
    Gambia: 'ðŸ‡¬ðŸ‡²',
    'Guinea-Bissau': 'ðŸ‡¬ðŸ‡¼',
    Guinea: 'ðŸ‡¬ðŸ‡³',
    'Sierra Leone': 'ðŸ‡¸ðŸ‡±',
    Liberia: 'ðŸ‡±ðŸ‡·',
    'Ivory Coast': 'ðŸ‡¨ðŸ‡®',
    "Cote d'Ivoire": 'ðŸ‡¨ðŸ‡®',
    'Burkina Faso': 'ðŸ‡§e', // Typo in original thoughts? No: ðŸ‡§ðŸ‡«
    Ghana: 'ðŸ‡¬ðŸ‡­',
    Togo: 'ðŸ‡¹ðŸ‡¬',
    Benin: 'ðŸ‡§ðŸ‡¯',
    Nigeria: 'ðŸ‡³ðŸ‡¬',
    Cameroon: 'ðŸ‡¨ðŸ‡²',
    'Central Africa': 'ðŸ‡¨ðŸ‡«',
    Gabon: 'ðŸ‡¬ðŸ‡¦',
    'Congo (Republic of)': 'ðŸ‡¨ðŸ‡¬',
    'Congo (Dem. Rep.)': 'ðŸ‡¨ðŸ‡©',
    'Equatorial Guinea': 'ðŸ‡¬ðŸ‡¶',
    'Sao Tome & Principe': 'ðŸ‡¸ðŸ‡¹',
    Angola: 'ðŸ‡¦ðŸ‡´',
    Namibia: 'ðŸ‡³ðŸ‡¦',
    'South Africa': 'ðŸ‡¿ðŸ‡¦',
    Lesotho: 'ðŸ‡±ðŸ‡¸',
    Eswatini: 'ðŸ‡¸ðŸ‡¿',
    Swaziland: 'ðŸ‡¸ðŸ‡¿',
    Mozambique: 'ðŸ‡²ðŸ‡¿',
    Madagascar: 'ðŸ‡²ðŸ‡¬',
    Zimbabwe: 'ðŸ‡¿ðŸ‡¼',
    Zambia: 'ðŸ‡¿ðŸ‡²',
    Malawi: 'ðŸ‡²ðŸ‡¼',
    Tanzania: 'ðŸ‡¹ðŸ‡¿',
    Kenya: 'ðŸ‡°ðŸ‡ª',
    Uganda: 'ðŸ‡ºðŸ‡¬',
    Rwanda: 'ðŸ‡·ðŸ‡¼',
    Burundi: 'ðŸ‡§ðŸ‡®',
    Ethiopia: 'ðŸ‡ªðŸ‡¹',
    Somalia: 'ðŸ‡¸ðŸ‡´',
    Djibouti: 'ðŸ‡©ðŸ‡¯',
    Eritrea: 'ðŸ‡ªðŸ‡·',
    Sudan: 'ðŸ‡¸ðŸ‡©',
    'South Sudan': 'ðŸ‡¸ðŸ‡¸',
    Chad: 'ðŸ‡¹ðŸ‡©',
    Niger: 'ðŸ‡³ðŸ‡ª',
    Mali: 'ðŸ‡²ðŸ‡±',
    'Cape Verde': 'ðŸ‡¨ðŸ‡»',
    Madeira: 'ðŸ‡µðŸ‡¹', // Listed closer to Europe usually
    'Canary Is.': 'ðŸ‡®ðŸ‡¨', // Listed closer to Europe usually
    'Ascension Is.': 'ðŸ‡¦ðŸ‡¨',
    'St. Helena': 'ðŸ‡¸ðŸ‡­',
    'Tristan da Cunha': 'ðŸ‡¹ðŸ‡¦',
    Mauritius: 'ðŸ‡²ðŸ‡º',
    'Reunion Is.': 'ðŸ‡·ðŸ‡ª',
    Seychelles: 'ðŸ‡¸ðŸ‡¨',
    Comoros: 'ðŸ‡°ðŸ‡²',
    Mayotte: 'ðŸ‡¾ðŸ‡¹',
    'Rodrigues Is.': 'ðŸ‡²ðŸ‡º', // Mauritius flag usually
    'Agalega & St. Brandon': 'ðŸ‡²ðŸ‡º', // Mauritius flag usually

    // Oceania
    Australia: 'ðŸ‡¦ðŸ‡º',
    'New Zealand': 'ðŸ‡³ðŸ‡¿',
    'Papua New Guinea': 'ðŸ‡µðŸ‡¬',
    Fiji: 'ðŸ‡«ðŸ‡¯',
    Vanuatu: 'ðŸ‡»ðŸ‡º',
    'Solomon Is.': 'ðŸ‡¸ðŸ‡§',
    'New Caledonia': 'ðŸ‡³ðŸ‡¨',
    'Wallis & Futuna': 'ðŸ‡¼ðŸ‡«',
    Samoa: 'ðŸ‡¼ðŸ‡¸',
    'American Samoa': 'ðŸ‡¦ðŸ‡¸',
    Tonga: 'ðŸ‡¹ðŸ‡´',
    'Cook Is.': 'ðŸ‡¨ðŸ‡°',
    Niue: 'ðŸ‡³ðŸ‡º',
    Tokelau: 'ðŸ‡¹ðŸ‡°',
    'Pitcairn Is.': 'ðŸ‡µðŸ‡³',
    'French Polynesia': 'ðŸ‡µðŸ‡«',
    'Marquesas Is.': 'ðŸ‡µðŸ‡«',
    'Austral Is.': 'ðŸ‡µðŸ‡«',
    'Tuamotu Archipelago': 'ðŸ‡µðŸ‡«', // Using French Polynesia flag generally
    'Gambier Is.': 'ðŸ‡µðŸ‡«', // Using French Polynesia flag generally
    Kiribati: 'ðŸ‡°ðŸ‡®',
    Tuvalu: 'ðŸ‡¹ðŸ‡»',
    Nauru: 'ðŸ‡³ðŸ‡·',
    'Marshall Is.': 'ðŸ‡²ðŸ‡­',
    Micronesia: 'ðŸ‡«ðŸ‡²',
    Palau: 'ðŸ‡µðŸ‡¼',
    Guam: 'ðŸ‡¬ðŸ‡º',
    'Northern Mariana Is.': 'ðŸ‡²ðŸ‡µ',
    'Wake Is.': 'ðŸ‡ºðŸ‡¸', // US Territory
    'Johnston Is.': 'ðŸ‡ºðŸ‡¸',
    'Midway Is.': 'ðŸ‡ºðŸ‡¸',
    'Palmyra & Jarvis Is.': 'ðŸ‡ºðŸ‡¸',
    'Howland & Baker Is.': 'ðŸ‡ºðŸ‡¸',
    'Kingman Reef': 'ðŸ‡ºðŸ‡¸',
    'Kure Is.': 'ðŸ‡ºðŸ‡¸', // Often part of Hawaii/USA

    // Antarctica
    Antarctica: 'ðŸ‡¦ðŸ‡¶',

    // Others / Special
    'United Nations HQ': 'ðŸ‡ºðŸ‡³',
  };

  if (!entityName) return null;

  // Direct match
  if (flagMap[entityName]) return flagMap[entityName];

  // Try some normalize / fuzzy matching
  // 1. Check if "Republic of X" -> "X"
  const simplified = entityName
    .replace(/Republic of /i, '')
    .replace(/The /i, '')
    .trim();
  if (flagMap[simplified]) return flagMap[simplified];

  // 2. Check for "Islands" vs "Is."
  const islands = entityName.replace(/Islands/g, 'Is.').trim();
  if (flagMap[islands]) return flagMap[islands];

  return null;
};
